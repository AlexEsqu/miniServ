# runs the process as a user instead of root for security
user					nginx;

# since this is a simple project I only need one worker
worker_processes		1;

# I expect maximum 1024 simultaneous connections (prove me wrong ? make me go viral ?)
events {
	worker_connections	1024;
}

http {

	# automatically match files with their extension, so <file>.html is assigned content type text/html
	include				mime.types;

	server {
		# listening for incoming comms
		listen						8080;
		server_name					localhost;

		# kill cache
		add_header					Last-Modified	$date_gmt;
		add_header					'Cache-Control'	'no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0';		if_modified_since			off;
		expires						off;
		etag						off;

		# setting up root directory from which to seek php files
		root						/var/www/html;

		# setting up default file for homepage
		index						index.php;

		# setting php specific instructions
		location ~ \.php$  {
			try_files				$uri			=404;
			fastcgi_pass			php:9000;
			fastcgi_index			index.php;
			fastcgi_param			SCRIPT_FILENAME	$document_root$fastcgi_script_name;
			include					fastcgi_params;
		}

	}
}
